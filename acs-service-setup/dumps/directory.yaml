service: !u UUIDs.Service.ConfigDB
version: 2
objects:
  !u UUIDs.Class.Class:
    !u UUIDs.Class.Permission: {} 
    !u UUIDs.Class.Service: {}
  !u ConfigDB.Class.R2Class:
    !u Auth.Class.PermissionGroup: {}
  !u UUIDs.Class.Service:
    !u UUIDs.Service.Directory:
      name: "Directory service"
  !u Auth.Class.PermissionGroup:
    !u Directory.Perm.All:
      name: "Directory permissions"
  # XXX These are legacy permissions for now. They probably want
  # migrating to base permissions later.
  !u UUIDs.Class.Permission:
    !u Directory.Perm.AdvertiseService:
      name: "Directory: Advertise service"
    !u Directory.Perm.ManageService:
      name: "Directory: Manage service advert for owner"
    !u Directory.Perm.OverrideService:
      name: "Directory: Override service advert permissions"
    !u Directory.Perm.ReadAlertType:
      name: "Directory: Read alerts of type"
    !u Directory.Perm.PublishAlertType:
      name: "Directory: Publish alerts of type"
    !u Directory.Perm.ReadDeviceAlerts:
      name: "Directory: Read alerts from device"
    !u Directory.Perm.ReadLinkRelation:
      name: "Directory: Read Links by relation"
    !u Directory.Perm.ReadDeviceLinks:
      name: "Directory: Read Links from device"
---
service: !u UUIDs.Service.Authentication
version: 1
groups:
  !u Directory.Perm.All:
    - !u Directory.Perm.AdvertiseService
    - !u Directory.Perm.ManageService
    - !u Directory.Perm.OverrideService
    - !u Directory.Perm.ReadAlertType
    - !u Directory.Perm.PublishAlertType
    - !u Directory.Perm.ReadDeviceAlerts
    - !u Directory.Perm.ReadLinkRelation
    - !u Directory.Perm.ReadDeviceLinks
