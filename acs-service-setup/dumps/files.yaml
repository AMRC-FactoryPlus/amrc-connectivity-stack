#-REQUIRE: auth
---
service: !u UUIDs.Service.ConfigDB
version: 2
objects:
  !u Auth.Class.ServiceRole:
    !u Files.Requirement.ServiceAccount:
      name: "Files Service server"
      subclassOf:
        - !u Auth.Class.CentralService
        - !u ACS.Group.SparkplugNode

  !u Auth.Class.ServicePerms:
    !u Files.Perm.All:
      name: "Files permission"
      subclassOf:
        - !u UUIDs.Class.Permission

  !u UUIDs.Class.Service:
    !u Files.Service.Files: { name: "Files hosting service" }
  !u UUIDs.Class.App:
    !u Files.App.Config: { name: "Files Configuration" }
  !u Files.Perm.All:
    !u Files.Perm.Upload: { name: "Upload" }
    !u Files.Perm.Download: { name: "Download" }

  !u ConfigDB.Class.R1Class:
    !u Files.Class.File: { name: "File" }
    !u Files.Class.FileType: { name: "File Type" }

  !u Files.Class.FileType:
    !u Files.FileType.PDF: { name: "PDF" }
    !u Files.FileType.CSV: { name: "CSV" }
    !u Files.FileType.CAD: { name: "CAD" }

---
service: !u UUIDs.Service.Authentication
version: 2
grants:
  !u Files.Requirement.ServiceAccount:
    !u Files.Perm.All:
      !u Files.Service.Files: false

  !u ACS.Group.Administrator:
    !u Files.Perm.All:
      !u Files.Service.Files: false
