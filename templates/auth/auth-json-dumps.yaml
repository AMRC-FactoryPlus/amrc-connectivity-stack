apiVersion: v1
kind: ConfigMap
metadata:
  name: auth-json-dumps
  namespace: {{ .Values.namespace | required "values.namespace is required!" }}
  annotations:
    "helm.sh/hook": pre-install
    "helm.sh/hook-weight": "20"
  labels:
    component: auth
data:
  # Pre-seed required ACEs, Groups and Principals
  bootstrap: |
    {
      "service": "cab2642a-f7d9-42e5-8845-8f35affe1fd4",
      "version": 1,
      "aces": [
        {
          "principal": "10fc06b7-02f5-45f1-b419-a486b6bc13ba",
          "permission": "4c09402f-9923-4c82-a6f2-02bda21aace4",
          "target": "00000000-0000-0000-0000-000000000000"
        },
        {
          "principal": "5cc3b068-938f-4bb2-8ceb-64338a02fbeb",
          "permission": "81833dbb-1150-4078-b1db-978c646ba73e",
          "target": "00000000-0000-0000-0000-000000000000"
        },
        {
          "principal": "5cc3b068-938f-4bb2-8ceb-64338a02fbeb",
          "permission": "87e4a5b7-9a89-4796-a216-39666a47b9d2",
          "target": "5cc3b068-938f-4bb2-8ceb-64338a02fbeb"
        },
        {
          "principal": "5cc3b068-938f-4bb2-8ceb-64338a02fbeb",
          "permission": "ba566181-0e8a-405b-b16e-3fb89130fbee",
          "target": "972f7314-aa39-41b6-9e57-9ec6cb83b897"
        },
        {
          "principal": "5cc3b068-938f-4bb2-8ceb-64338a02fbeb",
          "permission": "e8c9c0f7-0d54-4db2-b8d6-cd80c45f6a5c",
          "target": "00000000-0000-0000-0000-000000000000"
        },
        {
          "principal": "2f42daeb-4521-4522-8e19-85dfb73db88e",
          "permission": "ba566181-0e8a-405b-b16e-3fb89130fbee",
          "target": "a637134a-d06b-41e7-ad86-4bf62fde914a"
        },
        {
          "principal": "2f42daeb-4521-4522-8e19-85dfb73db88e",
          "permission": "4a339562-cd57-408d-9d1a-6529a383ea4b",
          "target": "1266ddf1-156c-4266-9808-d6949418b185"
        },
        {
          "principal": "2f42daeb-4521-4522-8e19-85dfb73db88e",
          "permission": "4a339562-cd57-408d-9d1a-6529a383ea4b",
          "target": "8e32801b-f35a-4cbf-a5c3-2af64d3debd7"
        },
        {
          "principal": "36861e8d-9152-40c4-8f08-f51c2d7e3c25",
          "permission": "ba566181-0e8a-405b-b16e-3fb89130fbee",
          "target": "c43c7157-a50b-4d2a-ac1a-86ff8e8e88c1"
        },
        {
          "principal": "36861e8d-9152-40c4-8f08-f51c2d7e3c25",
          "permission": "87e4a5b7-9a89-4796-a216-39666a47b9d2",
          "target": "36861e8d-9152-40c4-8f08-f51c2d7e3c25"
        },
        {
          "principal": "2340e706-1280-420c-84a6-016547b55e95",
          "permission": "29b569d4-ab5d-40d2-b442-d556d531b25e",
          "target": "00000000-0000-0000-0000-000000000000"
        },
        {
          "principal": "23d4e8f9-76c0-49d5-addc-00b6ac05ee58",
          "permission": "dbd0c099-6c59-4bc6-aa92-4ba8a9b543f4",
          "target": "00000000-0000-0000-0000-000000000000"
        },
        {
          "principal": "23d4e8f9-76c0-49d5-addc-00b6ac05ee58",
          "permission": "4a339562-cd57-408d-9d1a-6529a383ea4b",
          "target": "60e99f28-67fe-4344-a6ab-b1edb8b8e810"
        },
        {
          "principal": "23d4e8f9-76c0-49d5-addc-00b6ac05ee58",
          "permission": "4a339562-cd57-408d-9d1a-6529a383ea4b",
          "target": "8e32801b-f35a-4cbf-a5c3-2af64d3debd7"
        },
        {
          "principal": "23d4e8f9-76c0-49d5-addc-00b6ac05ee58",
          "permission": "87e4a5b7-9a89-4796-a216-39666a47b9d2",
          "target": "23d4e8f9-76c0-49d5-addc-00b6ac05ee58"
        },
        {
          "principal": "23d4e8f9-76c0-49d5-addc-00b6ac05ee58",
          "permission": "ba566181-0e8a-405b-b16e-3fb89130fbee",
          "target": "9584ee09-a35a-4278-bc13-21a8be1f007c"
        },
        {
          "principal": "3e821f50-502c-420b-b5a6-dc9281f7f4a1",
          "permission": "4a339562-cd57-408d-9d1a-6529a383ea4b",
          "target": "253e14b5-9bd1-4c82-8d17-41e4568c4cd3"
        },
        {
          "principal": "3e821f50-502c-420b-b5a6-dc9281f7f4a1",
          "permission": "4a339562-cd57-408d-9d1a-6529a383ea4b",
          "target": "751f5524-3e67-4d0e-ac72-65172bae1cee"
        },
        {
          "principal": "3e821f50-502c-420b-b5a6-dc9281f7f4a1",
          "permission": "6c799ccb-d2ad-4715-a2a7-3c8728d6c0bf",
          "target": "751f5524-3e67-4d0e-ac72-65172bae1cee"
        },
        {
          "principal": "3e821f50-502c-420b-b5a6-dc9281f7f4a1",
          "permission": "87e4a5b7-9a89-4796-a216-39666a47b9d2",
          "target": "3e821f50-502c-420b-b5a6-dc9281f7f4a1"
        },
        {
          "principal": "3e821f50-502c-420b-b5a6-dc9281f7f4a1",
          "permission": "f0b7917b-d475-4888-9d5a-2af96b3c26b6",
          "target": "f42291d3-fbf3-4c91-b00b-00dbcbbfbada"
        },
        {
          "principal": "388ddbdc-4eb4-4ae8-bbd0-9be32f3c31e8",
          "permission": "6958c812-fbe2-4e6c-b997-6f850b89f679",
          "target": "00000000-0000-0000-0000-000000000000"
        },
        {
          "principal": "388ddbdc-4eb4-4ae8-bbd0-9be32f3c31e8",
          "permission": "50f1e694-7e18-4930-aa59-97cc90a6a1ec",
          "target": "00000000-0000-0000-0000-000000000000"
        }
      ],
      "groups": {
        "972f7314-aa39-41b6-9e57-9ec6cb83b897": [
          "3bda2ab2-4128-463d-83c9-16b976a8d83e",
          "97dcf2a1-7f4b-476c-b561-e40fc42440ee",
          "4db4c39a-f18d-4e83-aeb0-5af2c14ddc2b"
        ],
        "0db16724-6415-4694-93e3-1ea8556ec397": [
          "21000098-3a53-48da-8d3e-cc0650603d8e",
          "64c019f8-6754-4270-8917-6659a5628b86",
          "8790cf3d-b793-423c-b373-8cfcf9f63529",
          "9a32f195-a8cc-4562-a87a-d4653279474f",
          "d617e37c-3908-41b1-8820-d3f8d41a4280"
        ],
        "4c09402f-9923-4c82-a6f2-02bda21aace4": [
          "4473fe9c-05b0-42cc-ad8c-8e05f6d0ca86",
          "50b727d4-3faa-40dc-b347-01c99a226c58",
          "c43c7157-a50b-4d2a-ac1a-86ff8e8e88c1"
        ],
        "17a64293-b82d-4db4-af4d-63359bb62934": [
          "046d6603-fa62-4208-9400-65d61f8b1ec4"
        ],
        "6958c812-fbe2-4e6c-b997-6f850b89f679": [
          "81833dbb-1150-4078-b1db-978c646ba73e",
          "fbb9c25d-386d-4966-a325-f16471d9f7be"
        ],
        "dbd0c099-6c59-4bc6-aa92-4ba8a9b543f4": [
          "50f1e694-7e18-4930-aa59-97cc90a6a1ec",
          "81833dbb-1150-4078-b1db-978c646ba73e"
        ],
        "87e4a5b7-9a89-4796-a216-39666a47b9d2": [
          "8790cf3d-b793-423c-b373-8cfcf9f63529",
          "a1314953-8226-44f4-8a3e-e87b09310579",
          "e82456b3-a7d9-4971-9d8c-fd0be4545ab4"
        ],
        "9584ee09-a35a-4278-bc13-21a8be1f007c": [
          "6335f100-e68e-4e4d-b46d-85b42f85a036",
          "fbb9c25d-386d-4966-a325-f16471d9f7be"
        ],
        "c0d17bcf-2a90-40e5-b244-07bf631f7417": [
          "50f1e694-7e18-4930-aa59-97cc90a6a1ec",
          "81833dbb-1150-4078-b1db-978c646ba73e",
          "8790cf3d-b793-423c-b373-8cfcf9f63529",
          "bdc96a3e-d6fb-48ed-b790-0aa95cf826f0"
        ],
        "29b569d4-ab5d-40d2-b442-d556d531b25e": [
          "327c4cc8-9c46-4e1e-bb6b-257ace37b0f6",
          "35252562-51e5-4dd8-84cd-ba0fafa62669",
          "3a41f5ce-fc08-4669-9762-ec9e71061168",
          "6c799ccb-d2ad-4715-a2a7-3c8728d6c0bf",
          "f0b7917b-d475-4888-9d5a-2af96b3c26b6",
          "6335f100-e68e-4e4d-b46d-85b42f85a036"
        ],
        "50b727d4-3faa-40dc-b347-01c99a226c58": [
          "ba566181-0e8a-405b-b16e-3fb89130fbee",
          "35252562-51e5-4dd8-84cd-ba0fafa62669",
          "3a41f5ce-fc08-4669-9762-ec9e71061168",
          "be9b6d47-c845-49b2-b9d5-d87b83f11c3b",
          "327c4cc8-9c46-4e1e-bb6b-257ace37b0f6",
          "e8c9c0f7-0d54-4db2-b8d6-cd80c45f6a5c"
        ],
        "4473fe9c-05b0-42cc-ad8c-8e05f6d0ca86": [
          "81833dbb-1150-4078-b1db-978c646ba73e"
        ],
        "a637134a-d06b-41e7-ad86-4bf62fde914a": [
          "046d6603-fa62-4208-9400-65d61f8b1ec4",
          "21000098-3a53-48da-8d3e-cc0650603d8e",
          "50f1e694-7e18-4930-aa59-97cc90a6a1ec",
          "64c019f8-6754-4270-8917-6659a5628b86",
          "81833dbb-1150-4078-b1db-978c646ba73e",
          "8790cf3d-b793-423c-b373-8cfcf9f63529",
          "9a32f195-a8cc-4562-a87a-d4653279474f",
          "a1314953-8226-44f4-8a3e-e87b09310579",
          "bdc96a3e-d6fb-48ed-b790-0aa95cf826f0",
          "cff45682-f2f0-4c72-91f3-7dda20d43509",
          "d617e37c-3908-41b1-8820-d3f8d41a4280",
          "e82456b3-a7d9-4971-9d8c-fd0be4545ab4",
          "e77ffb3e-3e38-4cc1-ad77-b6d7e42ba81c"
        ],
        "c43c7157-a50b-4d2a-ac1a-86ff8e8e88c1": [
          "4a339562-cd57-408d-9d1a-6529a383ea4b",
          "6c799ccb-d2ad-4715-a2a7-3c8728d6c0bf",
          "95c7cbcb-ce60-49ed-aa81-2fe3eec4559d",
          "f0b7917b-d475-4888-9d5a-2af96b3c26b6",
          "6957174b-7b08-45ca-ac5c-c03ab6928a6e"
        ],
        "10fc06b7-02f5-45f1-b419-a486b6bc13ba": [
          "d53f476a-29dd-4d79-b614-5b7fe9bc8acf"
        ]
      },
      "principals": [
        {
          "uuid": "d53f476a-29dd-4d79-b614-5b7fe9bc8acf",
          "kerberos": "admin@{{ .Values.identity.realm }}"
        },
        {
          "uuid": "5cc3b068-938f-4bb2-8ceb-64338a02fbeb",
          "kerberos": "sv1directory@{{ .Values.identity.realm }}"
        },
        {
          "uuid": "1e1989ab-14e4-42bd-8171-495230acc406",
          "kerberos": "sv1auth@{{ .Values.identity.realm }}"
        },
        {
          "uuid": "36861e8d-9152-40c4-8f08-f51c2d7e3c25",
          "kerberos": "sv1configdb@{{ .Values.identity.realm }}"
        },
        {
          "uuid": "2340e706-1280-420c-84a6-016547b55e95",
          "kerberos": "sv1manager@{{ .Values.identity.realm }}"
        },
        {
          "uuid": "23d4e8f9-76c0-49d5-addc-00b6ac05ee58",
          "kerberos": "sv1cmdesc@{{ .Values.identity.realm }}"
        },
        {
          "uuid": "2f42daeb-4521-4522-8e19-85dfb73db88e",
          "kerberos": "sv1mqtt@{{ .Values.identity.realm }}"
        },
        {
          "uuid": "3e821f50-502c-420b-b5a6-dc9281f7f4a1",
          "kerberos": "sv1files@{{ .Values.identity.realm }}"
        },
        {
          "uuid": "388ddbdc-4eb4-4ae8-bbd0-9be32f3c31e8",
          "kerberos": "sv1historian@{{ .Values.identity.realm }}"
        }
      ]
    }
